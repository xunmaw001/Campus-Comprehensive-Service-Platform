(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goodsOrder/list"],{"326e":function(e,r,t){"use strict";t.r(r);var n=t("8f9f"),o=t("76f3");for(var s in o)"default"!==s&&function(e){t.d(r,e,(function(){return o[e]}))}(s);t("84b0");var u,i=t("f0c5"),a=Object(i["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],u);r["default"]=a.exports},"4ed2":function(e,r,t){},"6b95":function(e,r,t){"use strict";(function(e){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(t("a34a"));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,r,t,n,o,s,u){try{var i=e[s](u),a=i.value}catch(c){return void t(c)}i.done?r(a):Promise.resolve(a).then(n,o)}function u(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var u=e.apply(r,t);function i(e){s(u,n,o,i,a,"next",e)}function a(e){s(u,n,o,i,a,"throw",e)}i(void 0)}))}}var i={data:function(){return{navlist:[],currentIndex:0,pages:1,list:[],mescroll:null,downOption:{auto:!1},upOption:{page:{},noMoreSize:3,textNoMore:"~ 没有更多了 ~"},hasNext:!0,goodsLiuyanText:"",user:"",goodsId:null,goodsCommentbackText:null,goodsCommentbackPingfenNumber:0,deliverId:null,goodsOrderCourierName:null,goodsOrderCourierNumber:null}},onShow:function(){var r=this;return u(n.default.mark((function t(){var o,s,u,i;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e.getStorageSync("nowTable"),t.next=3,r.$api.session(o);case 3:return s=t.sent,r.user=s.data,r.hasNext=!0,u={page:1,limit:100,dicCode:"goods_order_types"},t.next=9,r.$api.page("dictionary",u);case 9:i=t.sent,r.navlist=i.data.list,r.mescroll&&r.mescroll.resetUpScroll();case 12:case"end":return t.stop()}}),t)})))()},methods:{navselect:function(e){this.currentIndex=e,this.goodsOrderTypes=e,this.hasNext=!0,this.mescroll&&this.mescroll.resetUpScroll()},mescrollInit:function(e){this.mescroll=e},downCallback:function(e){this.hasNext=!0,e.resetUpScroll()},upCallback:function(e){var r=this;return u(n.default.mark((function t(){var o,s;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o={page:e.num,limit:e.size},r.goodsOrderTypes&&(o["goodsOrderTypes"]=r.goodsOrderTypes),t.next=4,r.$api.page("goodsOrder",o);case 4:s=t.sent,1==e.num&&(r.list=[]),r.list=r.list.concat(s.data.list),0==s.data.list.length&&(r.hasNext=!1),e.endSuccess(e.size,r.hasNext);case 9:case"end":return t.stop()}}),t)})))()},refund:function(r){var t=this;return u(n.default.mark((function o(){var s;return n.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:s=t,e.showModal({title:"提示",content:"是否确认退款",success:function(){var e=u(n.default.mark((function e(t){var o;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.confirm){e.next=7;break}return o=[{key:"id",val:r.id}],e.next=4,s.$api.requestCondition("goodsOrder","refund",o);case 4:e.sent,s.$utils.msg("退款成功"),s.mescroll&&s.mescroll.resetUpScroll();case 7:case"end":return e.stop()}}),e)})));function t(r){return e.apply(this,arguments)}return t}()});case 2:case"end":return o.stop()}}),o)})))()},openDeliver:function(e){var r=this;return u(n.default.mark((function t(){return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r.deliverId=null,r.goodsOrderCourierName=null,r.goodsOrderCourierNumber=null,r.deliverId=e,r.$refs.deliver.open();case 5:case"end":return t.stop()}}),t)})))()},closeDeliver:function(){this.$refs.deliver.close()},deliver:function(r){var t=this;return u(n.default.mark((function r(){var o;return n.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=t,null!=o.goodsOrderCourierName&&""!=o.goodsOrderCourierName&&"null"!=o.goodsOrderCourierName){r.next=3;break}return r.abrupt("return",o.$utils.msg("快递公司不能为空"));case 3:if(null!=o.goodsOrderCourierNumber&&""!=o.goodsOrderCourierNumber&&"null"!=o.goodsOrderCourierNumber){r.next=5;break}return r.abrupt("return",o.$utils.msg("快递单号不能为空"));case 5:e.showModal({title:"提示",content:"是否确认发货",success:function(){var e=u(n.default.mark((function e(r){var t;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r.confirm){e.next=8;break}return t=[{key:"id",val:o.deliverId},{key:"goodsOrderCourierName",val:o.goodsOrderCourierName},{key:"goodsOrderCourierNumber",val:o.goodsOrderCourierNumber}],e.next=4,o.$api.requestCondition("goodsOrder","deliver",t);case 4:e.sent,o.$refs.deliver.close(),o.$utils.msg("成功发货"),o.mescroll&&o.mescroll.resetUpScroll();case 8:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}()});case 6:case"end":return r.stop()}}),r)})))()},receiving:function(r){var t=this;return u(n.default.mark((function o(){var s;return n.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:s=t,e.showModal({title:"提示",content:"是否确认要收货吗？",success:function(){var e=u(n.default.mark((function e(t){var o;return n.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.confirm){e.next=7;break}return o=[{key:"id",val:r}],e.next=4,s.$api.requestCondition("goodsOrder","receiving",o);case 4:e.sent,s.$utils.msg("操作成功"),s.mescroll&&s.mescroll.resetUpScroll();case 7:case"end":return e.stop()}}),e)})));function t(r){return e.apply(this,arguments)}return t}()});case 2:case"end":return o.stop()}}),o)})))()},commentback:function(e){this.goodsId=null,this.goodsId=e,this.$refs.popup.open()},onFinishTap:function(){var e=this;return u(n.default.mark((function r(){var t,o;return n.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t=e,t.goodsCommentbackText){r.next=4;break}return t.$utils.msg("请填写评价内容"),r.abrupt("return");case 4:return o=[{key:"id",val:t.goodsId},{key:"commentbackText",val:t.goodsCommentbackText}],r.next=7,t.$api.requestCondition("goodsOrder","commentback",o);case 7:t.$utils.msg("评论成功"),t.$refs.popup.close(),t.mescroll&&t.mescroll.resetUpScroll();case 10:case"end":return r.stop()}}),r)})))()},onCloseWinTap:function(){this.$refs.popup.close()}}};r.default=i}).call(this,t("543d")["default"])},"76f3":function(e,r,t){"use strict";t.r(r);var n=t("6b95"),o=t.n(n);for(var s in n)"default"!==s&&function(e){t.d(r,e,(function(){return n[e]}))}(s);r["default"]=o.a},"84b0":function(e,r,t){"use strict";var n=t("4ed2"),o=t.n(n);o.a},"8b75":function(e,r,t){"use strict";(function(e){t("48e8");n(t("66fd"));var r=n(t("326e"));function n(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=t,e(r.default)}).call(this,t("543d")["createPage"])},"8f9f":function(e,r,t){"use strict";t.d(r,"b",(function(){return o})),t.d(r,"c",(function(){return s})),t.d(r,"a",(function(){return n}));var n={mescrollUni:function(){return Promise.all([t.e("common/vendor"),t.e("components/mescroll-uni/mescroll-uni")]).then(t.bind(null,"aa08"))},uniPopup:function(){return t.e("components/uni-popup/uni-popup").then(t.bind(null,"7c44"))}},o=function(){var e=this,r=e.$createElement;e._self._c},s=[]}},[["8b75","common/runtime","common/vendor"]]]);